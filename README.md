http://machc.blogspot.de/2009/01/fitting-arbitrary-function.html
